<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Punku Chat Widget Demo</title>
</head>
<body style="width: 100vh; height: 100vh; background-color: #f5f5f5;">
    <h1 style="font-family: system-ui, -apple-system, sans-serif; padding: 20px;">Punku Chat Widget</h1>
    <p style="font-family: system-ui, -apple-system, sans-serif; padding: 0 20px;">This demonstrates the chat widget integration.</p>

    <punku-chat
        window_title="Support Assistant"
        welcome_message="Hello! How can I help you today?"
        flow_id=""
        host_url="https://app.punku.ai"
        theme="swarovski"
        api_key=""
        start_open="false"
        background_color="#0F172A"
        button_color="#0F172A"
        button_text_color="#FFFFFF"
        link_color="#2563EB"
        user_message_color="#0F172A" 
        send_button_style='{"backgroundColor": "#0F172A"}'
        bot_message_color="#F1F5F9"
 
    ></punku-chat>
    
    
    <script>
        // Wait for the widget to load
        function waitForWidget() {
            return new Promise((resolve) => {
                const checkWidget = () => {
                    if (window['punku-chat-widget_api']) {
                        resolve(window['punku-chat-widget_api']);
                    } else {
                        setTimeout(checkWidget, 100);
                    }
                };
                checkWidget();
            });
        }
        
        // Update status display
        function updateStatus(message) {
            const statusDiv = document.getElementById('status');
            const timestamp = new Date().toLocaleTimeString();
            if (statusDiv) {
                statusDiv.innerHTML = `[${timestamp}] ${message}`;
            } else {
                console.log(`[${timestamp}] ${message}`);
            }
        }
        
        // Programmatic control functions
        async function openChat() {
            try {
                const widget = await waitForWidget();
                widget.open();
                updateStatus('‚úÖ Chat opened programmatically');
            } catch (error) {
                updateStatus('‚ùå Error opening chat: ' + error.message);
            }
        }
        
        async function closeChat() {
            try {
                const widget = await waitForWidget();
                widget.close();
                updateStatus('‚úÖ Chat closed programmatically');
            } catch (error) {
                updateStatus('‚ùå Error closing chat: ' + error.message);
            }
        }
        
        async function checkStatus() {
            try {
                const widget = await waitForWidget();
                const isOpen = widget.isOpen();
                updateStatus(`üìä Status - Open: ${isOpen}`);
            } catch (error) {
                updateStatus('‚ùå Error checking status: ' + error.message);
            }
        }
        
    </script>
</body>
</html>